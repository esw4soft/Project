{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\React\\\\project\\\\src\\\\components\\\\Member\\\\MemberPhoto.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport Axios from 'axios';\nimport { MdCameraAlt } from 'react-icons/md';\nimport { devUrl } from '../../config';\nimport { withRouter } from 'react-router-dom';\n\nfunction MemberPhoto(props) {\n  _s();\n\n  const [member, setMember] = useState([]);\n  const [member_img, setMemberImg] = useState([]);\n  useEffect(() => {\n    Axios.get(`http://localhost:3001/member/get/${props.match.params.id}`).then(res => {\n      setMember(res.data);\n    });\n  }, [member]);\n  var userImage = document.getElementById('#iconmemphoto-button-file');\n  var hangoutButton = document.getElementById('#putmemphoto-button-file');\n  $(document).ready(function () {\n    // When the document is ready/loaded, execute function\n    // Hide hangoutButton\n    hangoutButton.hide(); // Assign \"click\"-event-method to userImage\n\n    userImage.on('click', function () {\n      console.log('in onclick');\n      setTimeout(function () {\n        hangoutButton.click();\n      }, 2000);\n    });\n  });\n\n  const UpdateMemberImg = member_id => {\n    console.log(member_img);\n    Axios.put('http://localhost:3001/member/update/img', {\n      member_id: member_id,\n      member_img: member_img\n    }).then(response => {\n      setMember(member.map(val => {\n        return val.member_id === member_id ? {\n          member_id: val.member_id,\n          member_img: val.member_img\n        } : val;\n      }));\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: member.map(val => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mem_img_box \",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"mem_img rounded-circle\",\n            style: {\n              width: '160px',\n              height: '160px',\n              cursor: ' pointer '\n            },\n            variant: \"top\",\n            src: devUrl + `/pic/mem_img/${val.member_img}`,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"position-relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            accept: \"image/*\",\n            className: \"\",\n            style: {\n              display: 'none'\n            },\n            id: \"iconmemphoto-button-file\",\n            type: \"file\",\n            onChange: e => {\n              setMemberImg(e.target.value.split('\\\\').pop());\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              display: 'none'\n            },\n            id: \"putmemphoto-button-file\",\n            onClick: () => {\n              UpdateMemberImg(val.member_id);\n            },\n            children: \"\\u4E0A\\u50B3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"iconmemphoto-button-file\",\n            children: /*#__PURE__*/_jsxDEV(MdCameraAlt, {\n              \"aria-label\": \"upload picture\",\n              component: \"span\",\n              className: \" position-absolute  translate-middle \",\n              style: {\n                width: '42px',\n                height: '42px',\n                top: '40px',\n                right: '-5px',\n                color: '#104b6d',\n                cursor: ' pointer '\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false);\n}\n\n_s(MemberPhoto, \"3njCJtj4szEgaj3IFc+FBppEXHM=\");\n\n_c = MemberPhoto;\nexport default _c2 = withRouter(MemberPhoto);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MemberPhoto\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/user/React/project/src/components/Member/MemberPhoto.js"],"names":["React","useState","useEffect","ReactDOM","Axios","MdCameraAlt","devUrl","withRouter","MemberPhoto","props","member","setMember","member_img","setMemberImg","get","match","params","id","then","res","data","userImage","document","getElementById","hangoutButton","$","ready","hide","on","console","log","setTimeout","click","UpdateMemberImg","member_id","put","response","map","val","width","height","cursor","display","e","target","value","split","pop","top","right","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Axios from 'axios'\r\nimport { MdCameraAlt } from 'react-icons/md'\r\nimport { devUrl } from '../../config'\r\nimport { withRouter } from 'react-router-dom'\r\nfunction MemberPhoto(props) {\r\n  const [member, setMember] = useState([])\r\n  const [member_img, setMemberImg] = useState([])\r\n\r\n  useEffect(() => {\r\n    Axios.get(`http://localhost:3001/member/get/${props.match.params.id}`).then(\r\n      (res) => {\r\n        setMember(res.data)\r\n      }\r\n    )\r\n  }, [member])\r\n\r\n  var userImage = document.getElementById('#iconmemphoto-button-file')\r\n  var hangoutButton = document.getElementById('#putmemphoto-button-file')\r\n\r\n  $(document).ready(function () {\r\n    // When the document is ready/loaded, execute function\r\n\r\n    // Hide hangoutButton\r\n    hangoutButton.hide()\r\n\r\n    // Assign \"click\"-event-method to userImage\r\n    userImage.on('click', function () {\r\n      console.log('in onclick')\r\n      setTimeout(function () {\r\n        hangoutButton.click()\r\n      }, 2000)\r\n    })\r\n  })\r\n\r\n  const UpdateMemberImg = (member_id) => {\r\n    console.log(member_img)\r\n\r\n    Axios.put('http://localhost:3001/member/update/img', {\r\n      member_id: member_id,\r\n      member_img: member_img,\r\n    }).then((response) => {\r\n      setMember(\r\n        member.map((val) => {\r\n          return val.member_id === member_id\r\n            ? {\r\n                member_id: val.member_id,\r\n                member_img: val.member_img,\r\n              }\r\n            : val\r\n        })\r\n      )\r\n    })\r\n  }\r\n  return (\r\n    <>\r\n      {member.map((val) => {\r\n        return (\r\n          <div className=\"d-flex justify-content-center align-items-center\">\r\n            <div className=\"mem_img_box \">\r\n              <img\r\n                className=\"mem_img rounded-circle\"\r\n                style={{ width: '160px', height: '160px', cursor: ' pointer ' }}\r\n                variant=\"top\"\r\n                src={devUrl + `/pic/mem_img/${val.member_img}`}\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"position-relative\">\r\n              <input\r\n                accept=\"image/*\"\r\n                className=\"\"\r\n                style={{ display: 'none' }}\r\n                id=\"iconmemphoto-button-file\"\r\n                type=\"file\"\r\n                onChange={(e) => {\r\n                  setMemberImg(e.target.value.split('\\\\').pop())\r\n                }}\r\n              />\r\n              <button\r\n                style={{ display: 'none' }}\r\n                id=\"putmemphoto-button-file\"\r\n                onClick={() => {\r\n                  UpdateMemberImg(val.member_id)\r\n                }}\r\n              >\r\n                上傳\r\n              </button>\r\n              <label htmlFor=\"iconmemphoto-button-file\">\r\n                <MdCameraAlt\r\n                  aria-label=\"upload picture\"\r\n                  component=\"span\"\r\n                  className=\" position-absolute  translate-middle \"\r\n                  style={{\r\n                    width: '42px',\r\n                    height: '42px',\r\n                    top: '40px',\r\n                    right: '-5px',\r\n                    color: '#104b6d',\r\n                    cursor: ' pointer ',\r\n                  }}\r\n                />\r\n              </label>\r\n            </div>\r\n          </div>\r\n        )\r\n      })}\r\n    </>\r\n  )\r\n}\r\nexport default withRouter(MemberPhoto)\r\n"]},"metadata":{},"sourceType":"module"}