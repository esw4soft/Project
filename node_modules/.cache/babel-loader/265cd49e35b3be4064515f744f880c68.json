{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\React\\\\project\\\\src\\\\components\\\\Member\\\\MemberPhoto.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Axios from 'axios';\nimport { MdCameraAlt } from 'react-icons/md';\nimport { Card } from 'react-bootstrap';\nimport { devUrl } from '../../config'; // import './styles.css'\n\nclass MemberPhoto extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      img: ''\n    };\n\n    this.onChange = e => {\n      const file = e.target.files.item(0); // 取得選中檔案們的一個檔案\n\n      const fileReader = new FileReader(); // FileReader為瀏覽器內建類別，用途為讀取瀏覽器選中的檔案\n\n      fileReader.addEventListener('load', this.fileLoad);\n      fileReader.readAsDataURL(file); // 讀取完檔案後，變成URL\n    };\n\n    this.fileLoad = e => {\n      this.setState({\n        img: e.target.result // 讀取到DataURL後，儲存在result裡面，指定為img\n\n      });\n    };\n\n    this.submit = () => {\n      Axios.post('http://localhost:3001/api/update/img/${props.match.params.id}', {\n        img: this.state.img\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mem_img_box \",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"mem_img rounded-circle\",\n          style: {\n            width: '160px',\n            height: '160px',\n            cursor: ' pointer '\n          },\n          variant: \"top\",\n          src: this.state.img,\n          alt: \"\",\n          id: \"submitmemphoto-button-file\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"position-relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          accept: \"image/*\",\n          className: \"\",\n          style: {\n            display: 'none'\n          },\n          id: \"iconmemphoto-button-file\",\n          type: \"file\",\n          onChange: this.onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            display: 'none'\n          },\n          id: \"submitmemphoto-button-file\",\n          onClick: this.submit,\n          children: \"\\u4E0A\\u50B3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"iconmemphoto-button-file\",\n          children: /*#__PURE__*/_jsxDEV(MdCameraAlt, {\n            \"aria-label\": \"upload picture\",\n            component: \"span\",\n            className: \" position-absolute  translate-middle \",\n            style: {\n              width: '42px',\n              height: '42px',\n              top: '40px',\n              right: '-5px',\n              color: '#104b6d',\n              cursor: ' pointer '\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default MemberPhoto;","map":{"version":3,"sources":["C:/Users/user/React/project/src/components/Member/MemberPhoto.js"],"names":["React","ReactDOM","Axios","MdCameraAlt","Card","devUrl","MemberPhoto","Component","state","img","onChange","e","file","target","files","item","fileReader","FileReader","addEventListener","fileLoad","readAsDataURL","setState","result","submit","post","render","width","height","cursor","display","top","right","color"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Axios from 'axios'\r\nimport { MdCameraAlt } from 'react-icons/md'\r\nimport { Card } from 'react-bootstrap'\r\nimport { devUrl } from '../../config'\r\n// import './styles.css'\r\n\r\nclass MemberPhoto extends React.Component {\r\n  state = {\r\n    img: '',\r\n  }\r\n  onChange = (e) => {\r\n    const file = e.target.files.item(0) // 取得選中檔案們的一個檔案\r\n    const fileReader = new FileReader() // FileReader為瀏覽器內建類別，用途為讀取瀏覽器選中的檔案\r\n    fileReader.addEventListener('load', this.fileLoad)\r\n    fileReader.readAsDataURL(file) // 讀取完檔案後，變成URL\r\n  }\r\n  // e為第13行發出load之事件\r\n  fileLoad = (e) => {\r\n    this.setState({\r\n      img: e.target.result, // 讀取到DataURL後，儲存在result裡面，指定為img\r\n    })\r\n  }\r\n  submit = () => {\r\n    Axios.post(\r\n      'http://localhost:3001/api/update/img/${props.match.params.id}',\r\n      { img: this.state.img }\r\n    )\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"d-flex justify-content-center align-items-center\">\r\n        <div className=\"mem_img_box \">\r\n          <img\r\n            className=\"mem_img rounded-circle\"\r\n            style={{ width: '160px', height: '160px', cursor: ' pointer ' }}\r\n            variant=\"top\"\r\n            src={this.state.img}\r\n            alt=\"\"\r\n            id=\"submitmemphoto-button-file\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"position-relative\">\r\n          <input\r\n            accept=\"image/*\"\r\n            className=\"\"\r\n            style={{ display: 'none' }}\r\n            id=\"iconmemphoto-button-file\"\r\n            type=\"file\"\r\n            onChange={this.onChange}\r\n          />\r\n          <button\r\n            style={{ display: 'none' }}\r\n            id=\"submitmemphoto-button-file\"\r\n            onClick={this.submit}\r\n          >\r\n            上傳\r\n          </button>\r\n          <label htmlFor=\"iconmemphoto-button-file\">\r\n            <MdCameraAlt\r\n              aria-label=\"upload picture\"\r\n              component=\"span\"\r\n              className=\" position-absolute  translate-middle \"\r\n              style={{\r\n                width: '42px',\r\n                height: '42px',\r\n                top: '40px',\r\n                right: '-5px',\r\n                color: '#104b6d',\r\n                cursor: ' pointer ',\r\n              }}\r\n            />\r\n          </label>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default MemberPhoto\r\n"]},"metadata":{},"sourceType":"module"}